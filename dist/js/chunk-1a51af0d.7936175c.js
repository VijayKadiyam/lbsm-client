(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1a51af0d"],{6029:function(e,t,a){"use strict";a.r(t);a("a4d3"),a("e01a"),a("99af"),a("fb6a");var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"main-content"},[t("breadcumb",{attrs:{page:"Value-List",folder:"Value-Lists"}}),t("b-row",[t("b-col",{staticClass:"mt-4 mb-4",attrs:{md:"12"}},[t("b-card",{attrs:{title:"Values"}},[t("b-row",[t("b-col",{attrs:{md:"9"}},[t("vue-tags-input",{staticClass:"tag-custom text-15 mb-2",attrs:{tags:e.selectedValues,"max-tags":1,"add-only-from-autocomplete":!0,"autocomplete-items":e.filteredValueItems,placeholder:"Type Value Name"},on:{"tags-changed":function(t){return e.selectedValues=t}},model:{value:e.searchTerm,callback:function(t){e.searchTerm=t},expression:"searchTerm"}}),e.searchingStatus?t("b-progress",{attrs:{value:e.changeValue,max:e.max,animated:""}}):e._e()],1),t("b-col",{attrs:{md:"3"}},[t("b-button",{staticClass:"btn-rounded d-none d-sm-block mb-2",attrs:{variant:"primary"},on:{click:function(t){return e.save()}}},[e._v("Save ")]),e.savingStatus?t("div",{staticClass:"spinner spinner-primary mr-3"}):e._e()],1)],1)],1)],1)],1),t("b-card",[t("vue-good-table",{attrs:{columns:e.columns,"line-numbers":!0,"search-options":{enabled:!0,placeholder:"Search this table"},"pagination-options":{enabled:!0,mode:"records"},styleClass:"tableOne vgt-table",rows:e.valueLists},scopedSlots:e._u([{key:"table-row",fn:function(a){return["sr_no"==a.column.field?t("span",[t("b-button",{staticClass:"btn-rounded d-none d-sm-block",attrs:{variant:"primary"},on:{click:function(t){return e.deleteValueList(a.row)}}},[e._v("X ")])],1):e._e(),"checked"==a.column.field?t("span",[t("label",{staticClass:"switch switch-success mr-3"},[t("input",{directives:[{name:"model",rawName:"v-model",value:a.row.is_active,expression:"props.row.is_active"}],attrs:{type:"checkbox",checked:"checkbox"},domProps:{checked:Array.isArray(a.row.is_active)?e._i(a.row.is_active,null)>-1:a.row.is_active},on:{change:function(t){var s=a.row.is_active,n=t.target,i=!!n.checked;if(Array.isArray(s)){var r=null,c=e._i(s,r);n.checked?c<0&&e.$set(a.row,"is_active",s.concat([r])):c>-1&&e.$set(a.row,"is_active",s.slice(0,c).concat(s.slice(c+1)))}else e.$set(a.row,"is_active",i)}}}),t("span",{staticClass:"slider"})])]):e._e(),"description"==a.column.field?t("span",[t("b-form-input",{staticClass:"mb-2",attrs:{label:"Description",placeholder:"Enter Description"},on:{change:function(t){return e.changeCell(a.row.description,a.row.originalIndex,a.column.field)}},model:{value:a.row.description,callback:function(t){e.$set(a.row,"description",t)},expression:"props.row.description"}})],1):e._e(),"code"==a.column.field?t("span",[t("b-form-input",{staticClass:"mb-2",attrs:{label:"Code",placeholder:"Enter Code"},on:{change:function(t){return e.changeCell(a.row.code,a.row.originalIndex,a.column.field)}},model:{value:a.row.code,callback:function(t){e.$set(a.row,"code",t)},expression:"props.row.code"}})],1):e._e()]}}])},[t("div",{staticClass:"mb-1 mr-2 mt-3 pull-right",attrs:{slot:"table-actions-bottom"},slot:"table-actions-bottom"},[t("b-button",{staticClass:"btn-rounded d-none d-sm-block",attrs:{variant:"primary"},on:{click:function(t){return e.addEmptyValueList()}}},[t("i",{staticClass:"i-Add text-white mr-2"}),e._v("Add Row ")])],1)])],1)],1)},n=[],i=a("c7eb"),r=a("1da1"),c=(a("4de4"),a("14d9"),a("b0c0"),a("d3b7"),a("159b"),a("ddb0"),a("bc3a")),o=a.n(c),l={name:"ValueList",metaInfo:{title:"Value List"},data:function(){return{columns:[{label:"Sr No",field:"sr_no"},{label:"Description",field:"description"},{label:"Code",field:"code"},{label:"Active",field:"checked"}],valueLists:[],searchingStatus:"",savingStatus:"",searchTerm:"",selectedValues:[],valueItems:[],changeValue:0,changeMax:100}},computed:{filteredValueItems:function(){var e=this;return this.valueItems.filter((function(t){return-1!==t.text.toLowerCase().indexOf(e.searchTerm.toLowerCase())}))}},watch:{selectedValues:"search"},mounted:function(){this.getMasters()},methods:{getMasters:function(){var e=this;return Object(r["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,o.a.get("value_lists/masters");case 2:a=t.sent,a=a.data,a.values.forEach((function(t){e.valueItems.push({id:t.id,text:t.name})}));case 5:case"end":return t.stop()}}),t)})))()},search:function(){var e=this;return Object(r["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.isLoading=!0,e.savingStatus="",e.searchingStatus="Searching...",e.changeValue=50,!(e.selectedValues.length>0)){t.next=11;break}return e.changeValue=100,e.valueId=e.selectedValues[0].id,t.next=9,o.a.get("/values/".concat(e.valueId,"/value_lists"));case 9:a=t.sent,e.valueLists=a.data.data;case 11:e.searchingStatus="",e.isLoading=!1;case 13:case"end":return t.stop()}}),t)})))()},changeCell:function(e,t,a){this.valueLists[t][a]=e},save:function(){var e=this;return Object(r["a"])(Object(i["a"])().mark((function t(){var a,s;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.savingStatus="Saving...",!(e.valueLists.length>0)){t.next=9;break}return e.isSaving=!0,a={datas:e.valueLists},t.next=6,o.a.post("/values/".concat(e.valueId,"/value_lists_multiple"),a);case 6:s=t.sent,e.valueLists=s.data.data,e.isSaving=!1;case 9:e.savingStatus="Saved.",e.savingStatus="";case 11:case"end":return t.stop()}}),t)})))()},addEmptyValueList:function(){this.valueLists.push({value_id:this.valueId,site_id:this.site.id,description:"",code:"",is_active:1})},deleteValueList:function(e){this.valueLists=this.valueLists.filter((function(t){return t.id!=e.id}))}}},u=l,d=a("2877"),v=Object(d["a"])(u,s,n,!1,null,null,null);t["default"]=v.exports},"99af":function(e,t,a){"use strict";var s=a("23e7"),n=a("d039"),i=a("e8b5"),r=a("861d"),c=a("7b0b"),o=a("07fa"),l=a("3511"),u=a("8418"),d=a("65f0"),v=a("1dde"),b=a("b622"),m=a("2d00"),p=b("isConcatSpreadable"),h=m>=51||!n((function(){var e=[];return e[p]=!1,e.concat()[0]!==e})),f=v("concat"),g=function(e){if(!r(e))return!1;var t=e[p];return void 0!==t?!!t:i(e)},w=!h||!f;s({target:"Array",proto:!0,arity:1,forced:w},{concat:function(e){var t,a,s,n,i,r=c(this),v=d(r,0),b=0;for(t=-1,s=arguments.length;t<s;t++)if(i=-1===t?r:arguments[t],g(i))for(n=o(i),l(b+n),a=0;a<n;a++,b++)a in i&&u(v,b,i[a]);else l(b+1),u(v,b++,i);return v.length=b,v}})}}]);