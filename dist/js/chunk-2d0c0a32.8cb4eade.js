(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c0a32"],{4341:function(e,s,a){"use strict";a.r(s);a("a4d3"),a("e01a");var r=function(){var e=this,s=e._self._c;return s("div",{staticClass:"main-content"},[s("breadcumb",{attrs:{page:"User Program Task",folder:"User Program Tasks"}}),s("b-row",[s("b-col",{staticClass:"mt-4 mb-4",attrs:{md:"12"}},[6==e.user.roles[0].id?s("b-card",{attrs:{title:"Ship"}},[s("vue-tags-input",{staticClass:"tag-custom text-15 mb-2",attrs:{tags:e.selectedShip,"autocomplete-items":e.filteredShipItems,"add-only-from-autocomplete":!0,placeholder:"Type Ship Name"},on:{"tags-changed":function(s){return e.selectedShip=s}},model:{value:e.searchShip,callback:function(s){e.searchShip=s},expression:"searchShip"}}),e.searchingStatus?s("b-progress",{attrs:{value:e.changeValue,max:e.max,animated:""}}):e._e()],1):e._e(),6!=e.user.roles[0].id&&4!=e.user.roles[0].id?s("b-card",{attrs:{title:"Users"}},[s("vue-tags-input",{staticClass:"tag-custom text-15 mb-2",attrs:{tags:e.selectedUser,"max-tags":1,"autocomplete-items":e.filteredUserItems,"add-only-from-autocomplete":!0,placeholder:"Type User Name"},on:{"tags-changed":function(s){return e.selectedUser=s}},model:{value:e.searchUser,callback:function(s){e.searchUser=s},expression:"searchUser"}}),e.searchingStatus?s("b-progress",{attrs:{value:e.changeValue,max:e.max,animated:""}}):e._e()],1):e._e()],1)],1),s("b-card",[6!=e.user.roles[0].id?s("vue-good-table",{attrs:{columns:e.columns,"line-numbers":!0,"search-options":{enabled:!1,placeholder:"Search this table"},isLoading:e.isLoading,"pagination-options":{enabled:!0,mode:"records"},styleClass:"tableOne vgt-table",rows:e.user_programs,"foot-clone":""},on:{"update:isLoading":function(s){e.isLoading=s},"update:is-loading":function(s){e.isLoading=s}},scopedSlots:e._u([{key:"table-row",fn:function(a){return["button"==a.column.field?s("span",[s("b-button",{staticClass:"btn-rounded d-none d-sm-block",attrs:{variant:"primary",to:"/app/user-program/"+a.row.id+"/user-program-tasks"}},[s("i",{staticClass:"i-Eye text-white mr-2"},[e._v(" View Tasks")])])],1):e._e(),"program"==a.column.field?s("span",[e._v(" "+e._s(a.row.program.program_name||"")+" ")]):e._e(),"description"==a.column.field?s("span",[e._v(" "+e._s(a.row.program.program_description||"")+" ")]):e._e(),"instructor"==a.column.field?s("span",[e._v(" "+e._s(a.row.program.instructor||"")+" ")]):e._e(),"hours"==a.column.field?s("span",[e._v(" "+e._s(a.row.program.hours||"")+" ")]):e._e()]}}],null,!1,3024379016)}):e._e(),6==e.user.roles[0].id?s("vue-good-table",{attrs:{columns:e.usercolumns,"line-numbers":!0,"search-options":{enabled:!1,placeholder:"Search this table"},isLoading:e.isLoading,"pagination-options":{enabled:!0,mode:"records"},styleClass:"tableOne vgt-table",rows:e.user_program_tasks,"foot-clone":""},on:{"update:isLoading":function(s){e.isLoading=s},"update:is-loading":function(s){e.isLoading=s}},scopedSlots:e._u([{key:"table-row",fn:function(a){return["button"==a.column.field?s("span",[s("b-button",{staticClass:"btn-rounded d-none d-sm-block",attrs:{variant:"primary",to:"/app/user-program/"+a.row.id+"/user-program-tasks"}},[s("i",{staticClass:"i-Eye text-white mr-2"},[e._v(" View Tasks")])])],1):e._e(),"user"==a.column.field?s("span",[e._v(" "+e._s(a.row.user.first_name+" "+a.row.user.last_name||"")+" ")]):e._e(),"rank"==a.column.field?s("span",[e._v(" "+e._s(a.row.user.rank.description||"")+" ")]):e._e(),"sign_on"==a.column.field?s("span",[e._v(" "+e._s(a.row.from_date||"")+" ")]):e._e(),"sign_off"==a.column.field?s("span",[e._v(" "+e._s(a.row.to_date||"On Board")+" ")]):e._e(),"program"==a.column.field?s("span",[e._v(" "+e._s(a.row.user.user_programs[0].program.program_name||"")+" ")]):e._e()]}}],null,!1,43951022)}):e._e()],1)],1)},t=[],n=a("c7eb"),o=a("1da1"),i=(a("4de4"),a("14d9"),a("d3b7"),a("159b"),a("bc3a")),c=a.n(i),u={metaInfo:{title:"User Program Tasks"},data:function(){return{isLoading:!1,loading:!1,columns:[{label:"Program Name",field:"program"},{label:"Description",field:"description"},{label:"Instructor",field:"instructor"},{label:"Hours",field:"hours"},{label:"Task Detail",field:"button"}],usercolumns:[{label:"Candidate Name",field:"user"},{label:"Rank",field:"rank"},{label:"Sign on",field:"sign_on"},{label:"Sign Off",field:"sign_off"},{label:"Program Name",field:"program"},{label:"Task Detail",field:"button"}],searchingStatus:"",user_programs:[],user_program_tasks:[],searchUser:"",selectedUser:[],userItems:[],searchShip:"",selectedShip:[],shipItems:[],changeValue:0,changeMax:100}},watch:{selectedUser:"searchUserProgram",selectedShip:"searchShipUserProgram"},computed:{filteredUserItems:function(){var e=this;return this.userItems.filter((function(s){return-1!==s.text.toLowerCase().indexOf(e.searchUser.toLowerCase())}))},filteredShipItems:function(){var e=this;return this.shipItems.filter((function(s){return-1!==s.text.toLowerCase().indexOf(e.searchShip.toLowerCase())}))}},mounted:function(){4==this.user.roles[0].id&&this.getData(),this.getMasters()},methods:{getMasters:function(){var e=this;return Object(o["a"])(Object(n["a"])().mark((function s(){var a,r;return Object(n["a"])().wrap((function(s){while(1)switch(s.prev=s.next){case 0:return e.isLoading=!0,s.next=3,c.a.get("users");case 3:return a=s.sent,e.users=a.data.data,e.users.forEach((function(s){var a=s.rank?s.rank.description:"";null!=s.last_name?e.userItems.push({id:s.id,text:s.user_name+" "+s.last_name+" (Rank - "+a+") (Danos - "+s.unique_id+")"}):e.userItems.push({id:s.id,text:s.user_name+"  (Rank - "+a+") (Danos - "+s.unique_id+")"})})),s.next=8,c.a.get("user_program_tasks/masters");case 8:r=s.sent,r=r.data,r.ships.forEach((function(s){e.shipItems.push({id:s.id,text:s.description})})),e.isLoading=!1;case 12:case"end":return s.stop()}}),s)})))()},searchUserProgram:function(){var e=this;return Object(o["a"])(Object(n["a"])().mark((function s(){var a;return Object(n["a"])().wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(e.isLoading=!0,e.savingStatus="",e.searchingStatus="Searching...",e.changeValue=50,!(e.selectedUser.length>0)){s.next=13;break}return e.changeValue=100,e.user_Id=e.selectedUser[0].id,s.next=9,c.a.get("/user_programs?search=".concat(e.user_Id));case 9:a=s.sent,e.user_programs=a.data.data,s.next=14;break;case 13:e.user_programs=[];case 14:e.searchingStatus="",e.isLoading=!1;case 16:case"end":return s.stop()}}),s)})))()},getData:function(){var e=this;return Object(o["a"])(Object(n["a"])().mark((function s(){var a;return Object(n["a"])().wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(4!=e.user.roles[0].id){s.next=9;break}return e.isLoading=!0,e.user_Id=e.user.id,s.next=5,c.a.get("/user_programs?search=".concat(e.user_Id));case 5:a=s.sent,e.user_programs=a.data.data,console.log(e.user_programs),e.isLoading=!1;case 9:case"end":return s.stop()}}),s)})))()},searchShipUserProgram:function(){var e=this;return Object(o["a"])(Object(n["a"])().mark((function s(){var a;return Object(n["a"])().wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(e.isLoading=!0,e.savingStatus="",e.searchingStatus="Searching...",e.changeValue=50,!(e.selectedShip.length>0)){s.next=14;break}return e.changeValue=100,e.ship_Id=e.selectedShip[0].id,s.next=9,c.a.get("/user_program_task_users?search=".concat(e.ship_Id));case 9:a=s.sent,e.user_program_tasks=a.data.data,console.log(e.user_program_tasks),s.next=15;break;case 14:e.user_program_tasks=[];case 15:e.searchingStatus="",e.isLoading=!1;case 17:case"end":return s.stop()}}),s)})))()}}},l=u,d=a("2877"),p=Object(d["a"])(l,r,t,!1,null,null,null);s["default"]=p.exports}}]);