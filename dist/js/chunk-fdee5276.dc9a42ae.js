(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fdee5276"],{4578:function(t,e,r){},b92a:function(t,e,r){"use strict";r("4578")},e54d:function(t,e,r){"use strict";r.r(e);r("a4d3"),r("e01a");var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"main-content"},[e("breadcumb",{attrs:{page:"Create User Program Post",folder:"User Program Posts"}}),e("b-row",[e("b-col",{attrs:{md:"6"}},[e("b-card",{staticClass:"mb-4"},[e("div",{staticClass:"content"},[e("b-row",[e("b-col",{attrs:{md:"3"}},[e("p",{staticClass:"text-muted mt-2 mb-0"},[t._v("User Name")])]),e("b-col",{attrs:{md:"9"}},[e("p",{staticClass:"text-primary text-24 line-height-1 mb-2"},[t._v(" "+t._s(t.userdata.user_name)+" ")])])],1),e("b-row",[e("b-col",{attrs:{md:"3"}},[e("p",{staticClass:"text-muted mt-2 mb-0"},[t._v("First Name")])]),e("b-col",{attrs:{md:"9"}},[e("p",{staticClass:"text-primary text-24 line-height-1 mb-2"},[t._v(" "+t._s(t.userdata.first_name)+" ")])])],1),e("b-row",[e("b-col",{attrs:{md:"3"}},[e("p",{staticClass:"text-muted mt-2 mb-0"},[t._v("Last Name")])]),e("b-col",{attrs:{md:"9"}},[e("p",{staticClass:"text-primary text-24 line-height-1 mb-2"},[t._v(" "+t._s(t.userdata.last_name)+" ")])])],1),e("b-row",[e("b-col",{attrs:{md:"3"}},[e("p",{staticClass:"text-muted mt-2 mb-0"},[t._v("Rank")])]),e("b-col",{attrs:{md:"9"}},[e("p",{staticClass:"text-primary text-24 line-height-1 mb-2"},[t._v(" "+t._s(t.userdata.rank?t.userdata.rank.description:"")+" ")])])],1),e("b-row",[e("b-col",{attrs:{md:"3"}},[e("p",{staticClass:"text-muted mt-2 mb-0"},[t._v("Danos")])]),e("b-col",{attrs:{md:"9"}},[e("p",{staticClass:"text-primary text-24 line-height-1 mb-2"},[t._v(" "+t._s(t.userdata.unique_id)+" ")])])],1),e("b-row",[e("b-col",{attrs:{md:"3"}},[e("p",{staticClass:"text-muted mt-2 mb-0"},[t._v("Email")])]),e("b-col",{attrs:{md:"9"}},[e("p",{staticClass:"text-primary text-24 line-height-1 mb-2"},[t._v(" "+t._s(t.userdata.email)+" ")])])],1),e("b-row",[e("b-col",{attrs:{md:"3"}},[e("p",{staticClass:"text-muted mt-2 mb-0"},[t._v("Phone")])]),e("b-col",{attrs:{md:"9"}},[e("p",{staticClass:"text-primary text-24 line-height-1 mb-2"},[t._v(" "+t._s(t.userdata.phone)+" ")])])],1)],1)])],1),e("b-col",{attrs:{md:"6"}},[e("b-card",{staticClass:"mb-4"},[e("div",{staticClass:"content"},[e("b-row",[e("b-col",{attrs:{md:"3"}},[e("p",{staticClass:"text-muted mt-2 mb-0"},[t._v("Program Name")])]),e("b-col",{attrs:{md:"9"}},[e("p",{staticClass:"text-primary text-20 line-height-1 mb-0"},[t._v(" "+t._s(t.programdata.program_name)+" ")])])],1),e("b-row",[e("b-col",{attrs:{md:"3"}},[e("p",{staticClass:"text-muted mt-2 mb-0"},[t._v("Program Description")])]),e("b-col",{attrs:{md:"9"}},[e("p",{staticClass:"text-primary text-20 line-height-1 mb-0"},[t._v(" "+t._s(t.programdata.program_description)+" ")])])],1),e("b-row",[e("b-col",{attrs:{md:"3"}},[e("p",{staticClass:"text-muted mt-2 mb-0"},[t._v("Instructor")])]),e("b-col",{attrs:{md:"9"}},[e("p",{staticClass:"text-primary text-20 line-height-1 mb-0"},[t._v(" "+t._s(t.programdata.instructor)+" ")])])],1),e("b-row",[e("b-col",{attrs:{md:"3"}},[e("p",{staticClass:"text-muted mt-2 mb-0"},[t._v("Hours")])]),e("b-col",{attrs:{md:"9"}},[e("p",{staticClass:"text-primary text-20 line-height-1 mb-0"},[t._v(" "+t._s(t.programdata.hours)+" ")])])],1)],1)])],1)],1),e("b-row",{staticClass:"justify-content-md-center"},[e("b-col",{attrs:{md:"12"}},[e("b-card",{attrs:{title:"User Program Post Create"}},[e("b-row",[e("b-col",{attrs:{md:"12"}},[e("b-button",{staticStyle:{float:"right","margin-top":"-45px"},attrs:{variant:"primary"},on:{click:function(e){return t.$router.back()}}},[e("i",{staticClass:"i-Arrow-Back-3"}),t._v(" Back")])],1)],1),e("b-form",{on:{submit:function(e){return e.preventDefault(),t.submit.apply(null,arguments)}}},[e("b-row",[e("b-col",{attrs:{md:"6"}},[e("b-form-group",{attrs:{label:"User"}},[e("vue-tags-input",{staticClass:"tag-custom text-15 mb-2",attrs:{tags:t.selectedUser,"max-tags":1,"autocomplete-items":t.filteredUserItems,"add-only-from-autocomplete":!0,placeholder:"Type User Name"},on:{"tags-changed":function(e){return t.selectedUser=e}},model:{value:t.searchUser,callback:function(e){t.searchUser=e},expression:"searchUser"}})],1)],1),e("b-col",{attrs:{md:"6"}},[e("b-form-group",{attrs:{label:"Program"}},[e("vue-tags-input",{staticClass:"tag-custom text-15 mb-2",attrs:{tags:t.selectedProgram,"max-tags":1,"autocomplete-items":t.filteredProgramItems,"add-only-from-autocomplete":!0,placeholder:"Type Program Name"},on:{"tags-changed":function(e){return t.selectedProgram=e}},model:{value:t.searchProgram,callback:function(e){t.searchProgram=e},expression:"searchProgram"}})],1)],1)],1),e("b-row",[e("b-col",{attrs:{md:"6"}},[e("b-form-group",{attrs:{label:"Program Post"}},[e("vue-tags-input",{staticClass:"tag-custom text-15 mb-2",attrs:{tags:t.selectedProgramPost,"max-tags":1,"autocomplete-items":t.filteredProgramPostItems,"add-only-from-autocomplete":!0,placeholder:"Type Program Post Name"},on:{"tags-changed":function(e){return t.selectedProgramPost=e}},model:{value:t.searchProgramPost,callback:function(e){t.searchProgramPost=e},expression:"searchProgramPost"}})],1)],1),e("b-col",{attrs:{md:"6"}},[e("b-form-group",{attrs:{label:"Promotion Date"}},[e("b-form-datepicker",{staticClass:"mb-2",attrs:{id:"promotion_date"},model:{value:t.form.promotion_date,callback:function(e){t.$set(t.form,"promotion_date",e)},expression:"form.promotion_date"}})],1)],1)],1),e("b-row",[e("b-col",{attrs:{md:"6"}},[e("b-form-group",{attrs:{label:"Remarks"}},[e("b-form-textarea",{attrs:{id:"textarea",placeholder:"Remarks",rows:"3","max-rows":"6"},model:{value:t.form.remarks,callback:function(e){t.$set(t.form,"remarks",e)},expression:"form.remarks"}})],1)],1)],1),e("b-button",{attrs:{type:"submit",variant:"primary",disabled:"PENDING"===t.submitStatus}},[t._v("Submit")]),"OK"===t.submitStatus?t._m(0):t._e(),"ERROR"===t.submitStatus?t._m(1):t._e(),"PENDING"===t.submitStatus?t._m(2):t._e()],1)],1)],1)],1)],1)},s=[function(){var t=this,e=t._self._c;return e("p",{staticClass:"typo__p"},[t._v(" "+t._s(t.makeToastTwo("success"))+" ")])},function(){var t=this,e=t._self._c;return e("p",{staticClass:"typo__p"},[t._v(" "+t._s(t.makeToast("danger"))+" ")])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"typo__p"},[e("div",{staticClass:"spinner sm spinner-primary mt-3"})])}],o=r("c7eb"),m=r("1da1"),i=(r("4de4"),r("d3b7"),r("159b"),r("7db0"),r("bc3a")),c=r.n(i),n={metaInfo:{title:"Create User Program Post"},data:function(){return{form:{promotion_date:""},submitStatus:null,searchUser:"",selectedUser:[],userItems:[],searchProgram:"",selectedProgram:[],programItems:[],searchProgramPost:"",selectedProgramPost:[],program_postItems:[],userdata:{rank:{}},programdata:{}}},watch:{selectedUser:"searchSelectedUser",selectedProgram:"searchSelectedProgram"},computed:{filteredUserItems:function(){var t=this;return this.userItems.filter((function(e){return-1!==e.text.toLowerCase().indexOf(t.searchUser.toLowerCase())}))},filteredProgramItems:function(){var t=this;return this.programItems.filter((function(e){return-1!==e.text.toLowerCase().indexOf(t.searchProgram.toLowerCase())}))},filteredProgramPostItems:function(){var t=this;return this.program_postItems.filter((function(e){return-1!==e.text.toLowerCase().indexOf(t.searchProgramPost.toLowerCase())}))}},validations:{form:{}},mounted:function(){this.form.site_id=this.site.id,this.getMasters()},methods:{getMasters:function(){var t=this;return Object(m["a"])(Object(o["a"])().mark((function e(){var r;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isLoading=!0,e.next=3,c.a.get("user_program_posts/masters");case 3:r=e.sent,r=r.data,t.users=r.users,t.programs=r.programs,t.program_posts=r.program_posts,t.users.forEach((function(e){var r=e.rank?e.rank.description:"";null!=e.last_name?t.userItems.push({id:e.id,text:e.user_name+" "+e.last_name+" (Rank - "+r+") (Danos - "+e.unique_id+")"}):t.userItems.push({id:e.id,text:e.user_name+"  (Rank - "+r+") (Danos - "+e.unique_id+")"})})),t.programs.forEach((function(e){t.programItems.push({id:e.id,text:e.program_name})})),t.isLoading=!1;case 11:case"end":return e.stop()}}),e)})))()},searchSelectedUser:function(){var t=this;return Object(m["a"])(Object(o["a"])().mark((function e(){return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.selectedUser.length>0?(t.user_id=t.selectedUser[0].id,t.userdata=t.users.find((function(e){return e.id==t.user_id}))):(t.userdata="",t.selectedUser=[]);case 1:case"end":return e.stop()}}),e)})))()},searchSelectedProgram:function(){var t=this;return Object(m["a"])(Object(o["a"])().mark((function e(){var r;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(t.selectedProgram.length>0)){e.next=10;break}return t.program_id=t.selectedProgram[0].id,t.programdata=t.programs.find((function(e){return e.id==t.program_id})),e.next=5,c.a.get("/programs/".concat(t.program_id,"/program_posts"));case 5:r=e.sent,t.program_posts=r.data.data,t.program_posts.forEach((function(e){t.program_postItems.push({id:e.id,text:e.post.description})})),e.next=14;break;case 10:t.programdata="",t.program_posts=[],t.program_postItems=[],t.selectedProgramPost=[];case 14:case"end":return e.stop()}}),e)})))()},submit:function(){var t=this;return Object(m["a"])(Object(o["a"])().mark((function e(){var r;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(console.log("submit!"),t.form.user_id=t.selectedUser[0].id,t.form.program_id=t.selectedProgram[0].id,t.form.program_post_id=t.selectedProgramPost[0].id,t.$v.$touch(),!t.$v.$invalid){e.next=9;break}t.submitStatus="ERROR",e.next=23;break;case 9:return e.prev=9,t.isLoading=!0,t.submitStatus="PENDING",e.next=14,c.a.post("/user_program_posts",t.form);case 14:r=e.sent,t.UserProgramPost=r.data.msg,t.UserProgramPost&&(t.$swal({type:"error",title:"Oops...",text:"".concat(t.UserProgramPost),footer:""}),t.isLoading=!1,t.submitStatus="OK"),t.$router.push("/app/user-program-posts/"),e.next=23;break;case 20:e.prev=20,e.t0=e["catch"](9),t.isLoading=!1;case 23:case"end":return e.stop()}}),e,null,[[9,20]])})))()},makeToast:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.$bvToast.toast("Please fill the form correctly.",{title:"Variant ".concat(t||"default"),variant:t,solid:!0})},makeToastTwo:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.$bvToast.toast("Successfully Submitted",{title:"Variant ".concat(t||"default"),variant:t,solid:!0})},inputSubmit:function(){console.log("submitted")}}},l=n,u=(r("b92a"),r("2877")),d=Object(u["a"])(l,a,s,!1,null,null,null);e["default"]=d.exports}}]);